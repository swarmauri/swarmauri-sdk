[build-system]
requires = ["poetry-core>=1.9.0"]
build-backend = "poetry.core.masonry.api"

[tool.poetry]
name = "wcag-pdf-pytest"
version = "0.2.0"
description = "Pytest plugin for WCAG 2.1 A/AA/AAA compliance checks on PDFs; ships one test per SC applicable to PDFs."
authors = ["Example Org <dev@example.org>"]
license = "Apache-2.0"
readme = "README.md"
packages = [{ include = "wcag_pdf_pytest", from = "src" }]
keywords = ["pytest", "wcag", "accessibility", "pdf", "wcag2.1"]
classifiers = [
  "Framework :: Pytest",
  "License :: OSI Approved :: Apache Software License",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3 :: Only",
  "Operating System :: OS Independent"
]

[tool.poetry.dependencies]
python = ">=3.9,<3.13"
pytest = ">=8.2"
pypdf = {version = ">=3.17", optional = true}

[tool.poetry.extras]
pdf = ["pypdf"]

[tool.poetry.plugins."pytest11"]
wcag_pdf = "wcag_pdf_pytest.plugin"

[tool.pytest.ini_options]
testpaths = ["src/wcag_pdf_pytest/criteria"]
addopts = "-q"
markers = [
  "A: WCAG 2.1 Level A criteria.",
  "AA: WCAG 2.1 Level AA criteria.",
  "AAA: WCAG 2.1 Level AAA criteria.",
  "wcag21: All WCAG 2.1 criteria generated from the spreadsheet."
]

# uv reads configuration from pyproject.toml (no uv.toml used)
[tool.uv]
dev-dependencies = [
  "pytest>=8.2",
  "ruff>=0.6.0"
]

[tool.ruff]
target-version = "py311"
line-length = 100

[tool.ruff.lint]
select = ["E", "F", "I", "UP", "B"]
fix = true
