## 17 · Glossary

| Term                                | Definition / Context                                                                                                                    |           |                                 |
| ----------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- | --------- | ------------------------------- |
| **Task**                            | A self-contained unit of work pushed to the queue.  Contains `kind`, `id`, `payload`, `requires`, `attempts`, `created_at`, `schema_v`. |           |                                 |
| **TaskKind**                        | Enumeration of task semantics: `RENDER`, `MUTATE`, `EXECUTE`, `EVALUATE` (and future kinds).                                            |           |                                 |
| **Result**                          | Message produced by a handler describing outcome of a Task (\`status="ok"                                                               |  "error"  |  "skip"`, plus opaque `data\`). |
| **Capability Tag**                  | Lower-case token describing hardware / software abilities (`cpu`, `gpu`, `cuda11`, `docker`, `llm`, `internet`, …). Used for routing.   |           |                                 |
| **TaskQueue**                       | Broker abstraction that stores Tasks and Results.  Implementations: **StubQueue** (in-mem), **RedisQueue** (Streams).                   |           |                                 |
| **ResultBackend**                   | Persistence layer for Result objects (FS default, optional S3 / Postgres).                                                              |           |                                 |
| **TaskHandler**                     | Plug-in class that consumes a TaskKind (`KIND`) if `task.requires ⊆ handler.PROVIDES`, performs domain logic, and returns a Result.     |           |                                 |
| **Worker (One-Shot)**               | Short-lived container/process that pulls one compatible Task, runs a TaskHandler, ACKs the queue, then exits.                           |           |                                 |
| **Warm-Spawner**                    | Always-on manager that watches queue depth and launches enough one-shot workers to keep a *warm* buffer (`warm_pool`) of idle capacity. |           |                                 |
| **ParentSelector**                  | Strategy object that chooses a parent `Program` from EvoDB and adapts exploration/exploitation via `feedback()`.                        |           |                                 |
| **Mutator**                         | Handler that calls the LLM ensemble and returns a child program (or an ExecuteTask) given a parent source code.                         |           |                                 |
| **Executor**                        | Handler that runs candidate code inside a sandbox (Docker / GPU) and reports `speed_ms`, `peak_kb`.                                     |           |                                 |
| **RenderHandler**                   | Handler that performs deterministic Jinja or data-template expansion; replaces legacy `peagen process`.                                 |           |                                 |
| **EvaluateHandler**                 | Handler that computes fitness score using an evaluator pool.                                                                            |           |                                 |
| **LLM Ensemble**                    | Facade that routes prompt completions to one of several LLM back-ends (`openai`, `groq`, `local`); exposes token metrics.               |           |                                 |
| **PromptSampler**                   | Helper that fills Jinja prompt templates (`agent_mutate.j2`, `agent_evolve.j2`) with parent code and inspirations.                      |           |                                 |
| **EvoDB**                           | MAP-Elites archive mapping 4-D buckets → islands.  Stores `Program` objects, supports `insert()` and `sample()`.                        |           |                                 |
| **Program**                         | Source string plus metadata (`gen`, `speed_ms`, `peak_kb`, `bucket`).                                                                   |           |                                 |
| **Bucket**                          | Tuple `(speed_bin, mem_bin, size_bin, age)` that partitions search space for diversity.                                                 |           |                                 |
| **Island**                          | Bucket-level container holding current champion and limited history.                                                                    |           |                                 |
| **PEL (Pending Entries List)**      | Redis Streams structure holding claimed-but-unacknowledged messages; enables orphan re-delivery.                                        |           |                                 |
| **DLQ (Dead-Letter Queue)**         | Separate stream `peagen.dead` where tasks land after exceeding `max_retry`.                                                             |           |                                 |
| **HPA (Horizontal Pod Autoscaler)** | Kubernetes controller that scales worker Deployment based on `queue_pending_total` metric.                                              |           |                                 |
| **PT-x**                            | Performance-Target identifiers listed in Section 12 (e.g., PT-1 Time-to-best).                                                          |           |                                 |
| **Stub Mode / `--sync`**            | Execution path that bypasses Redis & Docker, using StubQueue + InlineWorker for local or CI runs.                                       |           |                                 |
| **Schema v**                        | Integer field in Task/Result messages; increments on breaking protocol changes.                                                         |           |                                 |
| **XAUTOCLAIM**                      | Redis Streams command used by the Warm-Spawner to reclaim orphaned messages after `idle_ms`.                                            |           |                                 |
| **Idle Cost**                       | Aggregate runtime of worker containers when queue depth is zero (objective PT-5).                                                       |           |                                 |
| **Blue-Green Roll-out**             | Deployment strategy: old worker image kept running while new image is rolled out; traffic switched once health checks pass.             |           |                                 |

This glossary standardises terminology across product, architecture, engineering and operations, ensuring every stakeholder speaks the same language during development, deployment and support.
