sequenceDiagram
    %% Participants
    participant U as **User**
    participant DOE as **peagen doe gen**
    participant FS as File System
    participant PROC as **peagen process**
    participant PE as Peagen Engine
    participant EVAL as **peagen eval**
    participant POOL as Evaluator Pool
    
    %% DOE GEN
    U ->> DOE: `peagen doe gen spec.yml template.yml -o project_payloads.yaml`
    DOE ->> FS: write **project_payloads.yaml**
    DOE -->> U: Design matrix generated  
    Note over FS: ðŸ—Ž Artifact â‘  `project_payloads.yaml`
    
    %% PROCESS
    U ->> PROC: `peagen process project_payloads.yaml`
    PROC ->> PE: init(env, templates, storage)
    PE ->> FS: render workspace â†’ `workspace/`, `*_manifest.json`
    PROC -->> U: Generation done  
    Note over FS: ðŸ—Ž Artifact â‘¡ workspace + manifest
    
    %% EVAL (same workspace)
    U ->> EVAL: `peagen eval workspace/ --pool MyPool`
    EVAL ->> POOL: evaluate_programs(programs)
    POOL -->> EVAL: results[]
    EVAL ->> FS: write `.peagen/eval_manifest.json`
    EVAL -->> U: Evaluation complete  
    Note over FS: ðŸ—Ž Artifact â‘¢ `eval_manifest.json`
